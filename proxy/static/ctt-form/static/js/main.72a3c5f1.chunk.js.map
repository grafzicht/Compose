{"version":3,"sources":["socket.js","Prompts/PromptOuter.js","Prompts/NamePrompt.js","Modals/ModalOuter.js","Modals/AddModal.js","Modals/RemoveModal.js","Prompts/DocumentPrompt.js","Form/util.js","Form/Question.js","Form/Section.js","Form/Chapter.js","Form/index.js","App.js","serviceWorker.js","index.js","arrow.svg"],"names":["socket","host","listeners","listenerRebroadcasts","documents","document","locks","section","name","names","this","on","bind","updateDocuments","setInterval","event","callback","push","idx","indexOf","splice","data","forEach","listener","Promise","resolve","reject","WebSocket","onopen","send","onmessage","onclose","id","sendName","handle","message","JSON","parse","type","title","call","console","log","warn","readyState","OPEN","stringify","cb","rSection","value","off","content","PromptOuter","children","className","NamePrompt","onName","React","useState","setName","htmlFor","required","onChange","evt","target","onClick","ModalOuter","close","AddModal","cancel","add","placeholder","RemoveModal","removeDocument","DocumentPrompt","onDocument","setDocuments","showAddModal","setAddModal","removeModalId","setRemoveModalId","setDocument","window","location","hash","useEffect","ids","Object","keys","createDocument","then","style","width","stroke","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","length","map","key","onContextMenu","preventDefault","nonMetaKeys","definition","filter","Question","token","setValue","lockOwner","setLockOwner","lockOwnerSelf","setLockOwnerSelf","docFn","parts","split","toString","locksFn","owners","entries","owner","resolvedLockOwner","blocked","question","a","persist","claimSection","blur","onBlur","releaseSection","updateSection","disabled","prompt","right","borderRadius","Section","_title","subDefinition","Chapter","_explanation","Type","hasMetaKeys","Form","src","arrow","alt","maxWidth","App","documentName","selectDocument","setDocumentName","onhashchange","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.72a3c5f1.chunk.js","sourcesContent":["class Socket {\n\thost = \"ws://grafzicht.nl/ctt-form-server/\";\n\n\tlisteners = {\n\t\t'documents': [],\n\t\t'document': [],\n\t\t'locks': [],\n\t\t'section': [],\n\t\t'result': []\n\t};\n\tlistenerRebroadcasts = {\n\t\tdocuments: null,\n\t\tdocument: null,\n\t\tlocks: null,\n\t\tsection: null\n\t};\n\tname = null;\n\tnames = {};\n\n\tconstructor() {\n\t\tthis.on = this.on.bind(this);\n\t\tthis.updateDocuments = this.updateDocuments.bind(this);\n\n\t\tsetInterval(this.updateDocuments, 5000);\n\t}\n\n\ton(event, callback) {\n\t\tif (event in this.listeners) {\n\t\t\tthis.listeners[event].push(callback);\n\t\t\tif (this.listenerRebroadcasts[event]) {\n\t\t\t\tcallback(this.listenerRebroadcasts[event]);\n\t\t\t}\n\t\t}\n\t}\n\n\toff(event, callback) {\n\t\tif (event in this.listeners) {\n\t\t\tlet idx = this.listeners[event].indexOf(callback);\n\t\t\tif (idx > -1) {\n\t\t\t\tthis.listeners[event].splice(idx, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tcall(event, data) {\n\t\tthis.listenerRebroadcasts[event] = data;\n\t\tthis.listeners[event].forEach(listener => {\n\t\t\tlistener(data);\n\t\t});\n\t}\n\n\tcreateDocument(name) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet socket = new WebSocket(this.host + \"add\");\n\t\t\tsocket.onopen = () => {\n\t\t\t\tsocket.send(name)\n\t\t\t};\n\t\t\tsocket.onmessage = ({data}) => {\n\t\t\t\tresolve(data);\n\t\t\t};\n\t\t\tsocket.onclose = reject;\n\t\t});\n\t}\n\n\tremoveDocument(id) {\n\t\tlet socket = new WebSocket(this.host + \"remove\");\n\t\tsocket.onopen = () => {\n\t\t\tsocket.send(id);\n\t\t}\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\t\tthis.sendName();\n\t}\n\n\tselectDocument(id) {\n\t\tthis.socket = new WebSocket(this.host + id);\n\t\tthis.socket.onopen = () => {\n\t\t\tthis.sendName();\n\t\t};\n\t\tthis.socket.onmessage = ({data}) => this.handle(data);\n\t\tthis.socket.onclose = () => this.socket = null;\n\t}\n\n\thandle(data) {\n\t\tlet message = JSON.parse(data);\n\t\tswitch (message.type) {\n\t\t\tcase 'document':\n\t\t\t\tdocument.title = message.document.name;\n\t\t\t\tthis.call('document', message.document);\n\t\t\t\tbreak;\n\t\t\tcase 'locks':\n\t\t\t\tthis.call('locks', message.locks);\n\t\t\t\tbreak;\n\t\t\tcase 'names':\n\t\t\t\tconsole.log(\"NAMES\", message.names);\n\t\t\t\tthis.names = message.names;\n\t\t\t\tbreak;\n\t\t\tcase'result':\n\t\t\t\tthis.call('result', message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.warn(message);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsendName() {\n\t\tif (this.socket && this.socket.readyState === WebSocket.OPEN) {\n\t\t\tthis.socket.send(JSON.stringify({type: \"name\", name: this.name}))\n\t\t}\n\t}\n\n\tupdateDocuments() {\n\t\tlet socket = new WebSocket(this.host);\n\t\tsocket.onmessage = ({data}) => {\n\t\t\tlet documents = {};\n\t\t\tJSON.parse(data).forEach(({id, name}) => {\n\t\t\t\tdocuments[id] = name;\n\t\t\t});\n\t\t\tthis.call('documents', documents);\n\t\t};\n\t}\n\n\tasync claimSection(section) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet cb = ({section: rSection, value}) => {\n\t\t\t\tif (rSection !== section) return;\n\t\t\t\tthis.off('result', cb);\n\t\t\t\tvalue ? resolve() : reject();\n\t\t\t};\n\t\t\tthis.on('result', cb);\n\n\t\t\tthis.socket.send(JSON.stringify({type: 'lock-claim', section}));\n\t\t});\n\t}\n\n\treleaseSection(section) {\n\t\tthis.socket.send(JSON.stringify({type: \"lock-release\", section}));\n\t}\n\n\tupdateSection(section, content) {\n\t\tthis.socket.send(JSON.stringify({type: \"update\", section, content}))\n\t}\n}\n\nconst socket = new Socket();\n\nexport default socket;","import React from 'react';\n\nconst PromptOuter = ({children}) => (\n\t<div className=\"py-12 mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n\t\t<div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n\t\t\t{children}\n\t\t</div>\n\t</div>\n);\n\nexport default PromptOuter;","import React from 'react';\nimport ModalOuter from \"./PromptOuter\";\n\nconst NamePrompt = ({onName}) => {\n\tconst [name, setName] = React.useState(\"\");\n\n\treturn (\n\t\t<ModalOuter>\n\t\t\t<div>\n\t\t\t\t<label htmlFor=\"name\" className=\"block text-sm font-medium leading-5 text-gray-600\">\n\t\t\t\t\tBefore we continue, what is your name?\n\t\t\t\t</label>\n\t\t\t\t<div className=\"mt-1 rounded-md shadow-sm\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tclassName=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={evt => setName(evt.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t<div className=\"block w-full rounded-md shadow-sm\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\n\t\t\t\t\t\tonClick={() => onName(name)}\n\t\t\t\t\t>\n\t\t\t\t\t\tContinue\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ModalOuter>\n\t);\n};\n\nexport default NamePrompt;","import React from 'react';\n\nconst ModalOuter = ({children, close}) => {\n\treturn (\n\t\t<div className=\"fixed bottom-0 inset-x-0 px-4 pb-6 sm:inset-0 sm:p-0 sm:flex sm:items-center sm:justify-center\">\n\t\t\t<div className=\"fixed inset-0 transition-opacity\" onClick={close}>\n\t\t\t\t<div className=\"absolute inset-0 bg-gray-500 opacity-75\"/>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclassName=\"bg-white rounded-lg px-4 pt-5 pb-4 overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:p-6\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default ModalOuter","import React from 'react';\nimport ModalOuter from \"./ModalOuter\";\n\nconst AddModal = ({cancel, add}) => {\n\tconst [name, setName] = React.useState(\"\");\n\n\treturn (\n\t\t<ModalOuter close={cancel}>\n\t\t\t<div>\n\t\t\t\t<div className=\"mt-3 text-center sm:mt-5\">\n\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n\t\t\t\t\t\tStart a new project\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t<div className=\"mt-1 relative rounded-md shadow-sm\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={evt => setName(evt.target.value)}\n\t\t\t\t\t\t\t\tclassName=\"form-input block w-full sm:text-sm sm:leading-5\"\n\t\t\t\t\t\t\t\tplaceholder=\"Project Name\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n\t\t\t\t<div className=\"flex w-full rounded-md shadow-sm sm:col-start-2\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-indigo-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo transition ease-in-out duration-150 sm:text-sm sm:leading-5\"\n\t\t\t\t\t\tonClick={() => add(name)}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd project\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:col-start-1\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline transition ease-in-out duration-150 sm:text-sm sm:leading-5\"\n\t\t\t\t\t\tonClick={cancel}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ModalOuter>\n\t);\n};\n\nexport default AddModal;","import React from 'react';\nimport ModalOuter from \"./ModalOuter\";\nimport socket from \"../socket\";\n\nconst RemoveModal=({close, id, name})=>{\n\treturn (\n\t\t<ModalOuter\n\t\t\tclose={close}\n\t\t>\n\t\t\t<div>\n\t\t\t\t<div className=\"mt-3 text-center sm:mt-5\">\n\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n\t\t\t\t\t\tDelete project '{name}'?\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n\t\t\t\t<div className=\"flex w-full rounded-md shadow-sm sm:col-start-2\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-red-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-red-500 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 sm:text-sm sm:leading-5\"\n\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\tsocket.removeDocument(id);\n\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tRemove\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:col-start-1\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline transition ease-in-out duration-150 sm:text-sm sm:leading-5\"\n\t\t\t\t\t\tonClick={close}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ModalOuter>\n\t);\n};\n\nexport default RemoveModal;","import React from 'react';\nimport ModalOuter from \"./PromptOuter\";\nimport socket from \"../socket\";\nimport AddModal from \"../Modals/AddModal\";\nimport RemoveModal from \"../Modals/RemoveModal\";\n\nconst DocumentPrompt = ({onDocument}) => {\n\tconst [documents, setDocuments] = React.useState({});\n\tconst [showAddModal, setAddModal] = React.useState(false);\n\tconst [removeModalId, setRemoveModalId] = React.useState(null);\n\n\tconst setDocument = (id) => {\n\t\twindow.location.hash = id;\n\t\tonDocument(id)\n\t};\n\n\tReact.useEffect(() => {\n\t\tsocket.on('documents', setDocuments);\n\t\treturn () => {\n\t\t\tsocket.off('documents', setDocuments);\n\t\t};\n\t}, [setDocuments]);\n\n\tlet ids = Object.keys(documents);\n\treturn (\n\t\t<ModalOuter>\n\t\t\t{showAddModal && <AddModal\n\t\t\t\tcancel={() => setAddModal(false)}\n\t\t\t\tadd={name => {\n\t\t\t\t\tsocket.createDocument(name).then(id => {\n\t\t\t\t\t\tsetDocument(id);\n\t\t\t\t\t\tsetAddModal(false);\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>}\n\t\t\t{removeModalId && <RemoveModal\n\t\t\t\tid={removeModalId}\n\t\t\t\tclose={()=>setRemoveModalId(null)}\n\t\t\t\tname={documents[removeModalId]}\n\t\t\t/>}\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"group flex items-center px-3 py-2 text-sm leading-5 font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:bg-gray-200 transition ease-in-out duration-150\"\n\t\t\t\t\tstyle={{width: '100%'}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetAddModal(true);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"flex-shrink-0 -ml-1 mr-3 h-6 w-6 text-gray-500 group-hover:text-gray-500 group-focus:text-gray-600 transition ease-in-out duration-150\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\td=\"M17 11a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4V7a1 1 0 0 1 2 0v4h4z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div className=\"truncate\">\n\t\t\t\t\t\tStart a new project\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t<h3 className=\"px-3 text-xs leading-4 font-semibold text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\tPrevious projects\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t{ids.length === 0 && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"mt-1 px-3 py-2 text-gray-400\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{ids.map(id => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\tclassName=\"mt-1 group flex items-center px-3 py-2 text-sm leading-5 font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition ease-in-out duration-150\"\n\t\t\t\t\t\t\tstyle={{width: '100%'}}\n\t\t\t\t\t\t\tonClick={() => setDocument(id)}\n\t\t\t\t\t\t\tonContextMenu={evt => {\n\t\t\t\t\t\t\t\tsetRemoveModalId(id);\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"truncate\">\n\t\t\t\t\t\t\t\t{documents[id]}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ModalOuter>\n\t)\n};\n\nexport default DocumentPrompt;","export const hasMetaKeys = definition => Object.keys(definition)\n\t.filter(name => name.indexOf(\"_\") !== -1)\n\t.length > 0;\n\nexport const nonMetaKeys = definition => Object.keys(definition)\n\t.filter(name => name.indexOf(\"_\") === -1);","import React from \"react\";\nimport socket from \"../socket\";\n\nconst Question = ({token, definition}) => {\n\tconst [value, setValue] = React.useState(\"\");\n\tconst [lockOwner, setLockOwner] = React.useState(null);\n\tconst [lockOwnerSelf, setLockOwnerSelf] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tlet docFn = document => {\n\t\t\tlet parts = token.split('.');\n\t\t\tlet section = document;\n\t\t\tfor (let part of parts) section = section[part] || \"\";\n\t\t\tsetValue(section.toString());\n\t\t};\n\t\tlet locksFn = owners => {\n\t\t\tsetLockOwner(null);\n\t\t\tObject.entries(owners).forEach(([owner, section]) => {\n\t\t\t\tif (section === token) setLockOwner(owner);\n\t\t\t});\n\t\t};\n\n\t\tsocket.on('document', docFn);\n\t\tsocket.on('locks', locksFn);\n\n\t\treturn () => {\n\t\t\tsocket.off('document', docFn);\n\t\t\tsocket.off('locks', locksFn);\n\t\t}\n\t}, [token]);\n\n\tlet resolvedLockOwner = 'an unknown user';\n\tif (lockOwner in socket.names) resolvedLockOwner = socket.names[lockOwner];\n\tif (lockOwnerSelf) resolvedLockOwner = 'you';\n\n\tlet blocked = lockOwner !== null && !lockOwnerSelf;\n\n\treturn (\n\t\t<div className=\"mb-3\">\n\t\t\t<p className=\"my-1 text-sm leading-5 text-gray-500\">\n\t\t\t\t{definition.question}\n\t\t\t</p>\n\t\t\t<div className=\"relative\">\n\t\t\t<textarea\n\t\t\t\tonClick={async evt => {\n\t\t\t\t\tevt.persist();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait socket.claimSection(token);\n\t\t\t\t\t\tsetLockOwnerSelf(true);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tevt.target.blur();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonBlur={() => {\n\t\t\t\t\tsocket.releaseSection(token);\n\t\t\t\t\tsetLockOwnerSelf(false);\n\t\t\t\t}}\n\t\t\t\tonChange={evt => {\n\t\t\t\t\tsetValue(evt.target.value);\n\t\t\t\t\tsocket.updateSection(token, evt.target.value);\n\t\t\t\t}}\n\n\t\t\t\ttitle={lockOwner ? `Section is being edited by ${resolvedLockOwner}` : ''}\n\t\t\t\tdisabled={blocked}\n\n\t\t\t\tplaceholder={definition.prompt}\n\t\t\t\tclassName={\n\t\t\t\t\t\"form-textarea block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5\" +\n\t\t\t\t\t(blocked ? ' bg-gray-200 text-gray-500' : '')\n\t\t\t\t}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t\t\t{blocked&&(\n\t\t\t\t\t<div className=\"absolute w-40 h-full top-0 p-1 bg-blue-100 text-blue-800 sm:text-sm\" style={{right: '-10.5rem', borderRadius: '0.25rem'}}>\n\t\t\t\t\t\tThis section is being edited by {resolvedLockOwner}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Question;","import React from \"react\";\nimport {nonMetaKeys} from \"./util\";\nimport Question from \"./Question\";\n\nconst Section = ({token, definition}) => (\n\t<div className=\"border-b border-gray-200 pb-2 mb-6\">\n\t\t<h3 className=\"text-base leading-6 font-medium text-gray-900\">\n\t\t\t{definition._title}\n\t\t</h3>\n\t\t{nonMetaKeys(definition).map(name => {\n\t\t\tlet subDefinition = definition[name];\n\t\t\treturn <Question\n\t\t\t\ttoken={token + '.' + name}\n\t\t\t\tdefinition={subDefinition}\n\t\t\t/>\n\t\t})}\n\t</div>\n);\n\nexport default Section;","import React from \"react\";\nimport {hasMetaKeys, nonMetaKeys} from \"./util\";\nimport Question from \"./Question\";\nimport Section from \"./Section\";\n\nconst Chapter = ({token, definition}) => {\n\treturn <>\n\t\t<div className=\"mb-6\">\n\t\t\t<h1 className=\"text-xl leading-6 font-medium text-gray-900\">\n\t\t\t\t{definition._title}\n\t\t\t</h1>\n\t\t\t{definition._explanation && (\n\t\t\t\t<p className=\"mt-1 max-w-2xl text-sm leading-5 text-gray-500\">\n\t\t\t\t\t{definition._explanation}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t\t{nonMetaKeys(definition).map(name => {\n\t\t\tlet subDefinition = definition[name];\n\t\t\tlet Type = hasMetaKeys(subDefinition) ? Section : Question\n\t\t\treturn <Type\n\t\t\t\ttoken={token + '.' + name}\n\t\t\t\tdefinition={subDefinition}\n\t\t\t/>\n\t\t})}\n\t</>\n};\n\nexport default Chapter;","import React from \"react\";\nimport Chapter from \"./Chapter\";\nimport arrow from '../arrow.svg';\n\nconst Form = ({definition}) => {\n\treturn (\n\t\t<div className=\"m-4\">\n\t\t\t<img\n\t\t\t\tclassName=\"h-6 cursor-pointer\"\n\t\t\t\tonClick={() => window.location.hash = ''}\n\t\t\t\tsrc={arrow}\n\t\t\t\talt=\"Return to project selection\"\n\t\t\t/>\n\t\t\t<form className=\"mx-auto my-8\" style={{maxWidth: '600pt'}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{Object.keys(definition).map(key => {\n\t\t\t\t\t\t\tlet data = definition[key];\n\t\t\t\t\t\t\treturn <Chapter\n\t\t\t\t\t\t\t\ttoken={key}\n\t\t\t\t\t\t\t\tdefinition={data}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t)\n};\n\nexport default Form;","import React from 'react';\nimport definition from './Questions/nl.json'\nimport socket from './socket';\nimport NamePrompt from \"./Prompts/NamePrompt\";\nimport DocumentPrompt from \"./Prompts/DocumentPrompt\";\nimport Form from \"./Form/\";\n\nfunction App() {\n\tconst [name, setName] = React.useState(\"\");\n\tconst [documentName, selectDocument] = React.useState();\n\n\tconst setDocumentName = name => {\n\t\tselectDocument(name);\n\t\tsocket.selectDocument(name)\n\t};\n\n\tReact.useEffect(() => {\n\t\twindow.onhashchange = () => {\n\t\t\tsetDocumentName(window.location.hash.split('#')[1])\n\t\t};\n\t\twindow.onhashchange(null);\n\t}, []);\n\n\tif (!name) {\n\t\treturn <NamePrompt onName={name => {\n\t\t\tsetName(name);\n\t\t\tsocket.setName(name);\n\t\t}}/>\n\t} else if (!documentName) {\n\t\treturn <DocumentPrompt onDocument={setDocumentName}/>\n\t} else {\n\t\treturn <Form definition={definition}/>;\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './tailwind.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/arrow.cf8c88ca.svg\";"],"sourceRoot":""}